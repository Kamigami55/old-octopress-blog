<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 100sites | Eason's blog]]></title>
  <link href="https://easonchang.com/blog/categories/100sites/atom.xml" rel="self"/>
  <link href="https://easonchang.com/"/>
  <updated>2016-09-19T10:36:44+08:00</updated>
  <id>https://easonchang.com/</id>
  <author>
    <name><![CDATA[Eason Chang]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[【100sites #011】LifeGame，生命遊戲模擬無限的可能性]]></title>
    <link href="https://easonchang.com/2016/03/28/100sites-011-lifegame/"/>
    <updated>2016-03-28T03:54:00+08:00</updated>
    <id>https://easonchang.com/2016/03/28/100sites-011-lifegame</id>
    <content type="html"><![CDATA[<p><img src="https://i.imgur.com/pZmuBeF.jpg" alt="螢幕快照 2016-03-27 上午12.35.39.png" /></p>

<h1>LifeGame，生命遊戲模擬無限的可能性</h1>

<p><a href="http://kamigami55.github.io/100sites/011_LifeGame/">點我玩生命遊戲線上demo</a></p>

<p><a href="https://github.com/Kamigami55/100sites/tree/gh-pages/011_LifeGame">點我查看Github原始碼</a></p>

<ul>
<li>ENTER：暫停</li>
<li>滑鼠左鍵：放置或刪除細胞</li>
</ul>


<!-- more -->


<h2>什麼是生命遊戲？</h2>

<p><a href="https://zh.wikipedia.org/wiki/%E5%BA%B7%E5%A8%81%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F">生命遊戲</a>，是由英國數學家<a href="https://zh.wikipedia.org/wiki/%E7%B4%84%E7%BF%B0%C2%B7%E4%BD%95%E9%A0%93%C2%B7%E5%BA%B7%E5%A8%81">John Horton Conway</a>研發的一套<a href="https://zh.wikipedia.org/wiki/%E7%B4%B0%E8%83%9E%E8%87%AA%E5%8B%95%E6%A9%9F">細胞自動機</a>模型，地圖中每個細胞會根據周圍8格細胞的狀態來決定自身的存亡，詳細規則如下：（摘錄自<a href="https://zh.wikipedia.org/wiki/%E5%BA%B7%E5%A8%81%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F">維基百科</a>）</p>

<!-- more -->


<ol>
<li>當前細胞為存活狀態時，當周圍低於 2 個（不包含 2 個）存活細胞時，該細胞變成死亡狀態。（模擬生命數量稀少）</li>
<li>當前細胞為存活狀態時，當周圍有 2 個或 3 個存活細胞時，該細胞保持原樣。</li>
<li>當前細胞為存活狀態時，當周圍有 3 個以上（不包含 3 個）的存活細胞時，該細胞變成死亡狀態。（模擬生命數量過多）</li>
<li>當前細胞為死亡狀態時，當周圍有 3 個存活細胞時，該細胞變成存活狀態。 （模擬繁殖）</li>
</ol>


<p>僅僅這4條規則，就可以建構出一個複雜而美妙的生物遊戲世界。我們可以找到一些特殊形狀的生物單位，他們會表現出一些有趣的行為模式。</p>

<p>三種經典的特殊生物單位：
<img src="https://i.imgur.com/tCVC0LI.jpg" alt="螢幕快照 2016-03-28 上午11.36.59.png" />
- 左邊的Blinker(信號燈)會以特定週期變化
- 中間的Spaceship(太空船)會往右下角移動（你也可以設計出往其他方向移動的船)
- 右邊的Beehive(蜂窩)則會保持靜止</p>

<h2>今天的LifeGame</h2>

<p>而在今天的LifeGame裡頭，我已經為你在左上角放置一個Blinker了，剩下的空間，就交給你來創造無限的可能性了！</p>

<p>今天的程式碼：
<figure class='code'><figcaption><span>index.html</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="ni">&amp;lt;</span>!DOCTYPE html&gt;
</span><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'>  <span class="nt">&lt;meta</span> <span class="na">charset-</span><span class="err">&quot;</span><span class="na">UTF-8</span><span class="err">&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;title&gt;</span>LifeGame<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.23/p5.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.23/addons/p5.dom.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;lifegame.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;body&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<pre><code class="css style.css">* {
  margin: 0;
  padding: 0;
}

body {
  overflow: hidden;
}
</code></pre>

<pre><code class="javascript lifegame.js">var SIZE = 20;
var oldMap = [],
    newMap = [],
    num_x = 0,
    num_y = 0,
    paused = false,
    frameCount = 0;
var pauseButton;



function setup() {
  createCanvas(windowWidth, windowHeight);
  frameRate(30);

  // init map
  num_x = windowWidth / SIZE;
  num_y = windowHeight / SIZE;
  for (var i = 0; i &lt; num_x; ++i) {
    oldMap.push([]);
    newMap.push([]);
    for (var j = 0; j &lt; num_y; ++j) {
      oldMap[i].push(false);
      newMap[i].push(false);
    }
  }
  loadDefaultMap();

  // init pause button
  pauseButton = createButton('Pause');
  pauseButton.size(80, 30);
  pauseButton.position(windowWidth/2-40, windowHeight-40);
  pauseButton.mousePressed(togglePauseSimulate);
}


function draw() {
  // fresh map every 5 frames
  if (!paused) {
    if (frameCount%5 == 0) {
      freshMap();
    }
  }
  // increase frame count
  ++frameCount;
  if (frameCount &gt;= 30) {
    frameCount = 0;
  }

  drawMap();
}


// default map: a blink unit at top left corner
function loadDefaultMap() {
  oldMap[1][1] = true;
  oldMap[1][2] = true;
  oldMap[1][3] = true;
}


function drawMap() {
  background(0);
  // draw grid
  stroke(30);
  for (var i = 0; i &lt; num_x; ++i) {
    line(i*SIZE, 0, i*SIZE, windowHeight);
  }
  for (var i = 0; i &lt; num_y; ++i) {
    line(0, i*SIZE, windowWidth, i*SIZE);
  }
  fill(255);
  // draw cells
  for (var i = 0; i &lt; num_x; ++i) {
    for (var j = 0; j &lt; num_y; ++j) {
      if (oldMap[i][j]) {
        rect(i*SIZE, j*SIZE, SIZE, SIZE);
      }
    }
  }
  // draw mouse cell
  fill(color('rgba(100,100,100,0.5)'));
  var mouseCellX = int(mouseX / SIZE);
  var mouseCellY = int(mouseY / SIZE);
  rect(mouseCellX*SIZE, mouseCellY*SIZE, SIZE, SIZE);
}


// press ENTER to pause simulate
function keyPressed() {
  if (keyCode == ENTER) {
    togglePauseSimulate();
  }
}


// press mouse to add or remove cell
function mousePressed() {
  var mouseCellX = int(mouseX / SIZE);
  var mouseCellY = int(mouseY / SIZE);
  oldMap[mouseCellX][mouseCellY] = !oldMap[mouseCellX][mouseCellY]
}


function togglePauseSimulate() {
  if (paused) {
    paused = false;
  } else {
    paused = true;
  }
}



// count how many neighbors there are of a cell
function neighbors(xpos, ypos) {
  var total = 0;
  // four corners
  if (xpos != 0 &amp;&amp; ypos != 0) {
    if (oldMap[xpos-1][ypos-1]) {
      ++total;
    }
  }
  if (xpos != 0 &amp;&amp; ypos != num_y-1) {
    if (oldMap[xpos-1][ypos+1]) {
      ++total;
    }
  }
  if (xpos != num_x-1 &amp;&amp; ypos != 0) {
    if (oldMap[xpos+1][ypos-1]) {
      ++total;
    }
  }
  if (xpos != num_x-1 &amp;&amp; ypos != num_y-1) {
    if (oldMap[xpos+1][ypos+1]) {
      ++total;
    }
  }
  // left and right
  if (xpos != 0) {
    if (oldMap[xpos-1][ypos]) {
      ++total;
    }
  }
  if (xpos != num_x-1) {
    if (oldMap[xpos+1][ypos]) {
      ++total;
    }
  }
  if (ypos != 0) {
    if (oldMap[xpos][ypos-1]) {
      ++total;
    }
  }
  if (ypos != num_y-1) {
    if (oldMap[xpos][ypos+1]) {
      ++total;
    }
  }
  return total;
}


// calculate the next map according to the Life Game rule
function freshMap() {
  for (var i = 0; i &lt; num_x; ++i) {
    for (var j = 0; j &lt; num_y; ++j) {
      var neighbor_count = neighbors(i, j);
      if (neighbor_count &lt;= 1 || neighbor_count &gt;= 4) {
        newMap[i][j] = false;
      } else if (neighbor_count === 2) {
        newMap[i][j] = oldMap[i][j];
      } else { // neighbor_count === 3
        newMap[i][j] = true;
      }
    }
  }

  for (var i = 0; i &lt; num_x; ++i) {
    for (var j = 0; j &lt; num_y; ++j) {
      oldMap[i][j] = newMap[i][j];
    }
  }
}
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[【100sites #010】Piano，用P5js的sound函式庫實作虛擬鋼琴]]></title>
    <link href="https://easonchang.com/2016/03/25/100sites-010-piano/"/>
    <updated>2016-03-25T17:57:00+08:00</updated>
    <id>https://easonchang.com/2016/03/25/100sites-010-piano</id>
    <content type="html"><![CDATA[<p><img src="https://i.imgur.com/8aBbIhk.jpg" alt="螢幕快照 2016-03-26 上午1.18.01.png" /></p>

<h1>Piano，用P5js的sound函式庫實作虛擬鋼琴</h1>

<p><a href="http://kamigami55.github.io/100sites/010_Piano/">點我玩線上Demo</a></p>

<p><a href="https://github.com/Kamigami55/100sites/tree/gh-pages/010_Piano">點我查看程式碼</a></p>

<p>要營造出好氣氛，一定要有適合的音樂，於是今天我想要玩音樂，所以就研究了一下<a href="http://p5js.org/">P5.js</a>的<a href="http://p5js.org/reference/#/libraries/p5.sound">sound</a>函式庫，做出了今天的Piano虛擬鋼琴。</p>

<!-- more -->


<p>這個函式庫有不少功能可以使用，播音錄音波型轉換都可以做到，今天的Piano使用了sine函數的oscillator製造聲音，再用FFT.analyze()來顯示波形。</p>

<p>本次的程式碼：
<figure class='code'><figcaption><span>index.html</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="ni">&amp;lt;</span>!DOCTYPE html&gt;
</span><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'>  <span class="nt">&lt;meta</span> <span class="na">charset-</span><span class="err">&quot;</span><span class="na">UTF-8</span><span class="err">&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;title&gt;</span>Piano<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.23/p5.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;p5.sound.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;piano.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;body&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<pre><code class="css style.css">* {
  margin: 0;
  padding: 0;
}

body {
  overflow: hidden;
}
</code></pre>

<pre><code class="javascript piano.js">var attackLevel = 2.0;
var releaseLevel = 0;

var attackTime = 0.001;
var decayTime = 0.2;
var susPercent = 0.2;
var releaseTime = 0.5;

var env, triOsc;
var notePressed = [false, false, false, false, false, false, false, false, false, false, false, false];
var fft;

function setup() {
  createCanvas(windowWidth, windowHeight);

  textAlign(CENTER);
  textSize(40);

  env = new p5.Env();
  env.setADSR(attackTime, decayTime, susPercent, releaseTime);
  env.setRange(attackLevel, releaseLevel);

  triOsc = new p5.Oscillator('sine');
  triOsc.amp(env);
  triOsc.start();

  ellipseMode(CENTER);
  strokeWeight(2);
  rectMode(CENTER);

  fft = new p5.FFT();
}


function draw() {
  background(200);

  // title
  fill(255);  
  strokeWeight(5);
  textSize(120);
  textFont("Georgia");
  text("PIANO", width/2, 150);
  textFont("Normal");

  // spectrum 
  var spectrum = fft.analyze(); 
  noStroke();
  fill(230); 
  for (var i = 0; i&lt; spectrum.length; i++){
    var x = map(i, 0, spectrum.length, 0, width/2);
    var h = -height/2 + map(spectrum[i], 0, 255, height/2, 0);
    rect(x, height/2, width / spectrum.length, h);
    rect(width-x, height/2, width / spectrum.length, h);
  }

  // black note
  drawNote(windowWidth/2-150, windowHeight/2-60, 'E', 'b', notePressed[0]);
  drawNote(windowWidth/2-90, windowHeight/2-60, 'R', 'b', notePressed[1]);
  drawNote(windowWidth/2+30, windowHeight/2-60, 'Y', 'b', notePressed[2]);
  drawNote(windowWidth/2+90, windowHeight/2-60, 'U', 'b', notePressed[3]);
  drawNote(windowWidth/2+150, windowHeight/2-60, 'I', 'b', notePressed[4]);

  // white note
  drawNote(windowWidth/2-180, windowHeight/2, 'S', 'w', notePressed[5]);
  drawNote(windowWidth/2-120, windowHeight/2, 'D', 'w', notePressed[6]);
  drawNote(windowWidth/2-60, windowHeight/2, 'F', 'w', notePressed[7]);
  drawNote(windowWidth/2, windowHeight/2, 'G', 'w', notePressed[8]);
  drawNote(windowWidth/2+60, windowHeight/2, 'H', 'w', notePressed[9]);
  drawNote(windowWidth/2+120, windowHeight/2, 'J', 'w', notePressed[10]);
  drawNote(windowWidth/2+180, windowHeight/2, 'K', 'w', notePressed[11]);
}


function playEnv(f){
  triOsc.freq(f);
  env.play();
}


function drawNote(xpos, ypos, key, color, pressed) {
  // black note
  var big = 0;
  if (pressed) {
    big = 8;
  }
  // shadow
  fill(100);
  strokeWeight(0);
  ellipse(xpos+3, ypos+3, 50+big, 50+big);
  // note
  if (color == 'b') {
    fill(0);
    stroke(255);  
  } else {
    fill(255);
    stroke(0);  
  }
  strokeWeight(2);
  ellipse(xpos, ypos, 50+big, 50+big);
  // text
  if (color == 'b') {
    fill(255);  
  } else {
    fill(0);
  }
  textSize(40);
  if (pressed) {
    textSize(44);
  }
  text(key, xpos, ypos+17);
}


function keyPressed() {
  switch (keyCode) {
  case 83: // S
  case 115: // s
    playEnv(261); // C note
    notePressed[5] = true;
    break;
  case 69: // E
  case 101: // e
    playEnv(277); // C# note
    notePressed[0] = true;
    break;
  case 68: // D
  case 110: // d
    playEnv(293); // D note
    notePressed[6] = true;
    break;
  case 82: // R
  case 114: // r
    playEnv(311); // D# note
    notePressed[1] = true;
    break;
  case 70: // F
  case 102: // f
    playEnv(329); // E note
    notePressed[7] = true;
    break;
  case 71: // G
  case 103: // g
    playEnv(349); // F note
    notePressed[8] = true;
    break;
  case 89: // Y
  case 121: // y
    playEnv(369); // F# note
    notePressed[2] = true;
    break;
  case 72: // H
  case 104: // h
    playEnv(392); // G note
    notePressed[9] = true;
    break;
  case 85: // U
  case 117: // u
    playEnv(415); // G# note
    notePressed[3] = true;
    break;
  case 74: // J
  case 106: // j
    playEnv(440); // A note
    notePressed[10] = true;
    break;
  case 73: // U
  case 105: // u
    playEnv(466); // A# note
    notePressed[4] = true;
    break;
  case 75: // K
  case 107: // k
    playEnv(493); // B note
    notePressed[11] = true;
    break;
  default:
    break;
  }
}

function keyReleased() {
  switch (keyCode) {
  case 83: // S
  case 115: // s
    // C note
    notePressed[5] = false;
    break;
  case 69: // E
  case 101: // e
    // C# note
    notePressed[0] = false;
    break;
  case 68: // D
  case 110: // d
    // D note
    notePressed[6] = false;
    break;
  case 82: // R
  case 114: // r
    // D# note
    notePressed[1] = false;
    break;
  case 70: // F
  case 102: // f
    // E note
    notePressed[7] = false;
    break;
  case 71: // G
  case 103: // g
    // F note
    notePressed[8] = false;
    break;
  case 89: // Y
  case 121: // y
    // F# note
    notePressed[2] = false;
    break;
  case 72: // H
  case 104: // h
    // G note
    notePressed[9] = false;
    break;
  case 85: // U
  case 117: // u
    // G# note
    notePressed[3] = false;
    break;
  case 74: // J
  case 106: // j
    // A note
    notePressed[10] = false;
    break;
  case 73: // U
  case 105: // u
    // A# note
    notePressed[4] = false;
    break;
  case 75: // K
  case 107: // k
    // B note
    notePressed[11] = false;
    break;
  default:
    break;
  }
}
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[【100sites #009】Flame，P5js酷炫小動畫]]></title>
    <link href="https://easonchang.com/2016/03/23/100sites-009-flame/"/>
    <updated>2016-03-23T07:05:00+08:00</updated>
    <id>https://easonchang.com/2016/03/23/100sites-009-flame</id>
    <content type="html"><![CDATA[<p><img src="https://i.imgur.com/rqkEbP4.jpg" alt="螢幕快照 2016-03-23 上午4.08.53.png" /></p>

<blockquote><p>一句話摘要：使用P5.js製作的類火焰互動效果</p></blockquote>

<p><a href="http://kamigami55.github.io/100sites/009_Flame/">玩線上Demo</a></p>

<p><a href="https://github.com/Kamigami55/100sites/tree/gh-pages/009_Flame">查看Github原始碼</a></p>

<p>我會知道<a href="http://p5js.org">P5.js</a>的存在，是因為在今年SITCON年會上聽了<a href="https://www.behance.net/chiunhauyou">游宭鎬(Chiun Hau You)</a>先生的分享，而最近看他用P5.js做的視覺辨識專案: <a href="https://www.behance.net/gallery/34490551/Hello-World-Programmable-Visual-Identity">Hello World - Programmable Visual Identity</a>上了<a href="http://codepen.io">CodePen</a>的Picked Pens，迴響熱烈，讓我也開始想探索P5.js更多的可能性，於是做了今天的小火焰互動特效練習。</p>

<!-- more -->


<p>今天沒什麼細節要講，移動你的滑鼠，享受這些小火焰吧！</p>

<p>點滑鼠左鍵可以切換樣式，共有4種樣式。</p>

<p>另外一種樣式：
<img src="https://i.imgur.com/2hriTFz.jpg" alt="螢幕快照 2016-03-23 上午4.09.52.png" /></p>

<p>原始碼：
<figure class='code'><figcaption><span>index.html</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="ni">&amp;lt;</span>!DOCTYPE html&gt;
</span><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'>  <span class="nt">&lt;meta</span> <span class="na">charset-</span><span class="err">&quot;</span><span class="na">UTF-8</span><span class="err">&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;title&gt;</span>Flame<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.23/p5.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;flame.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;body&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<pre><code class="css style.css">* {
  margin: 0;
  padding: 0;
}

body {
  overflow: hidden;
}
</code></pre>

<pre><code class="javascript flame.js">var rows = 0, // how many shapes there are vertically
    cols = 0, // how many shapes there are horizontally
    diameter = [], // diameter of every single shape
    displayMode = 0, // four display mode: 0: red rect, 1: red ellipse, 2: blue rect, 3: blue ellipse
    MARGIN = 30, // distance between two shapes
    MAX_SIZE = 100, // max shape size when mouse approach
    SENSE_RANGE = 200; // what distance shapes will react

function setup() {

  createCanvas(windowWidth, windowHeight);
  strokeWeight(0);
  ellipseMode(CENTER);
  rectMode(CENTER);
  frameRate(30);

  rows = windowHeight / MARGIN;
  cols = windowWidth / MARGIN;

  // initialize diameter 2-dimensional array
  for (var y = 0; y &lt; rows; ++y) { 
    diameter.push([]);
    for (var x = 0; x &lt; cols; ++x) {
      diameter[y].push(0);
    }
  }
}

function draw() {

  background(20);
  for (var y = 0; y &lt; rows; y += 1) {
    for (var x = 0; x &lt; cols; x += 1) {
      var thisDiameter = diameter[y][x];

      // decrease diameter by time until diameter is 0
      if (thisDiameter &lt; 2) {
        diameter[y][x] = 0;        
      } else { // thisDiameter &gt;= 2
        diameter[y][x] -= 2;
        thisDiameter = diameter[y][x];        

        // And we can now display it
        // Determine which color should we use
        if (displayMode &lt;= 1) { // 0, 1
          fill(255,thisDiameter*2.5,0); // red color mode
        } else { // 2, 3
          fill(0,thisDiameter*2.5,255-thisDiameter*1.5); // blue color mode
        }
        // Determine which shape should we use
        if (displayMode == 0 || displayMode == 2) { // 0, 2
          rect(x*MARGIN, y*MARGIN, thisDiameter, thisDiameter); // rect mode
        } else { // 1, 3
          ellipse(x*MARGIN, y*MARGIN, thisDiameter, thisDiameter); // ellipse mode
        }
      } // .if-else
    } // .for
  } // .for
}

// when mouse moved, adjust diameters of every shapes
function mouseMoved() {

  for (var y = 0; y &lt; rows; y += 1) {
    for (var x = 0; x &lt; cols; x += 1) {
      // calculus the distance between this shape and user mouse
      var dist = Math.sqrt((x*MARGIN-mouseX)*(x*MARGIN-mouseX)+(y*MARGIN-mouseY)*(y*MARGIN-mouseY));
      if (dist &lt;= SENSE_RANGE) {
        // calculus the diameter based on the distance
        var theDiameter = (SENSE_RANGE - dist)*MAX_SIZE/SENSE_RANGE;
        // if current diameter is smaller than the calc diameter
        if (diameter[y][x] &lt; theDiameter) {
          diameter[y][x] = theDiameter; // increase the current diameter to it should be
        }
      }
    }
  }
}

// switch display mode
function mousePressed() {
  ++displayMode;
  if (displayMode &gt; 3) {
    displayMode = 0;
  }
}
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[【100sites #008】Showcase，單頁式網站設計展示我的作品集]]></title>
    <link href="https://easonchang.com/2016/03/20/100sites-008-showcase/"/>
    <updated>2016-03-20T18:42:00+08:00</updated>
    <id>https://easonchang.com/2016/03/20/100sites-008-showcase</id>
    <content type="html"><![CDATA[<p><img src="https://i.imgur.com/sZzCbXP.jpg" alt="螢幕快照 2016-03-21 上午2.07.29.png" /></p>

<h1>Showcase，單頁式網站設計，展示我的網站練習作品集</h1>

<blockquote><p>一句話摘要：我的第一份單頁式網站</p></blockquote>

<p><a href="http://kamigami55.github.io/100sites/008_Showcase/">點我玩玩Showcase線上Demo</a></p>

<p><a href="https://github.com/Kamigami55/100sites/tree/gh-pages/008_Showcase">點我查看Showcase的Github程式碼</a></p>

<p>我一直很想要學習如何設計單頁式網站，於是今天的100sites的題目就是單頁式網站設計啦！</p>

<!-- more -->


<p>我找到了一份不錯的教學，<a href="http://pjchender.blogspot.tw/2015/04/jquery_19.html">PJCHENder愛分享 - jQuery學習筆記 第八堂-1</a>及<a href="http://pjchender.blogspot.tw/2015/04/jquery-2mousewheel.html">第八堂-2</a>，手把手教你如何做出一個簡單的單頁式網站。</p>

<p>於是我照著他的教學一步一腳印地學習，完成以後改改圖、加些文字、連結、與遮罩，就成為了今天的成品Showcase啦！</p>

<p>Showcase比較特別的地方除了單頁式網站設計以外，就是毛玻璃和黑色遮色片的效果了，這兩個效果都是用CSS做的。</p>

<p>毛玻璃效果（px數值大小可以隨你想要的模糊程度做調整）：
<code>css
-moz-filter: blur(4px);
-webkit-filter: blur(4px);
-o-filter: blur(4px);
-ms-filter: blur(4px);
filter: blur(4px);
</code>
黑色遮色片效果則是加了一個class為cover的div，設定background-color以及opacity來達成效果：
<code>css
.cover {
  height: 100vh;
  width: 100vw;
  position: fixed;
  top: 0px;
  background-color: #333;
  opacity: 0.6;
  z-index: 1;
}
</code></p>

<p>下面附上完整程式碼：
<figure class='code'><figcaption><span>index.html</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="ni">&amp;lt;</span>!DOCTYPE html&gt;
</span><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'>  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;title&gt;</span>Showcase<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jquery.mousewheel.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;showcase.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;showcase.css&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;body&gt;</span>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;nav&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;ul&gt;</span>
</span><span class='line'>        <span class="nt">&lt;li</span> <span class="na">style=</span><span class="s">&quot;background-color:#46dd46&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
</span><span class='line'>        <span class="nt">&lt;li&gt;&lt;/li&gt;</span>
</span><span class='line'>        <span class="nt">&lt;li&gt;&lt;/li&gt;</span>
</span><span class='line'>        <span class="nt">&lt;li&gt;&lt;/li&gt;</span>
</span><span class='line'>        <span class="nt">&lt;li&gt;&lt;/li&gt;</span>
</span><span class='line'>        <span class="nt">&lt;li&gt;&lt;/li&gt;</span>
</span><span class='line'>        <span class="nt">&lt;li&gt;&lt;/li&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/ul&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;info&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h2&gt;</span>#001<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h1&gt;</span>Timer<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://kamigami55.github.io/100sites/001_Timer/timer.html&quot;</span><span class="nt">&gt;</span>Demo<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;p1 picture&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;info&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h2&gt;</span>#002<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h1&gt;</span>Pomodoro<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://kamigami55.github.io/100sites/002_Pomodoro/pomodoro.html&quot;</span><span class="nt">&gt;</span>Demo<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;p2 picture&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;info&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h2&gt;</span>#003<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h1&gt;</span>Todolist<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a&gt;</span>/<span class="nt">&lt;em&gt;</span> Demo Preparing <span class="nt">&lt;/em&gt;</span>/<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;p3 picture&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;info&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h2&gt;</span>#004<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h1&gt;</span>Fireworks<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://kamigami55.github.io/100sites/004_Firework/&quot;</span><span class="nt">&gt;</span>Demo<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;p4 picture&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;info&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h2&gt;</span>#005<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h1&gt;</span>Drawer<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://kamigami55.github.io/100sites/005_Drawer/&quot;</span><span class="nt">&gt;</span>Demo<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;p5 picture&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;info&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h2&gt;</span>#006<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h1&gt;</span>Snack<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://kamigami55.github.io/100sites/006_Snack/&quot;</span><span class="nt">&gt;</span>Demo<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;p6 picture&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;info&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h2&gt;</span>#007<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h1&gt;</span>Pong<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://kamigami55.github.io/100sites/007_Pong/&quot;</span><span class="nt">&gt;</span>Demo<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;p7 picture&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;cover&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<pre><code class="css showcase.css">* {
  padding: 0;
  margin: 0;
}
body {
  overflow: hidden;
}
.cover {
  height: 100vh;
  width: 100vw;
  position: fixed;
  top: 0px;
  background-color: #333;
  opacity: 0.6;
  z-index: 1;
}
.picture {
  background-size: cover;
  height: 100vh;
  -moz-filter: blur(4px);
  -webkit-filter: blur(4px);
  -o-filter: blur(4px);
  -ms-filter: blur(4px);
  filter: blur(4px);
}
h1 {
  font-size: 20vh;
  color: #fff;
  font-family: Sans-serif;
  text-shadow: 4px 4px 30px #222;
  position: relative;
  top: 50vh;
  z-index: 3;
}
h2 {
  font-size: 8vh;
  color: #fff;
  font-family: Sans-serif;
  text-shadow: 3px 3px 20px #222;
  position: relative;
  top: 50vh;
  z-index: 3;
}
.info {
  text-align: center;
}
a {
  font-size: 10vh;
  color: #fff;
  font-family: Sans-serif;
  text-shadow: 3px 3px 20px #222;
  position: relative;
  top: 60vh;
  margin: 0px auto;
  z-index: 3;
  text-decoration: none;
}
a:hover {
  color: #4f4;
}
.p1 {
  background-image: url(images/p1.png);
}
.p2 {
  background-image: url(images/p2.png);
}
.p3 {
  background-image: url(images/p3.png);
}
.p4 {
  background-image: url(images/p4.png);
}
.p5 {
  background-image: url(images/p5.png);
}
.p6 {
  background-image: url(images/p6.png);
}
.p7 {
  background-image: url(images/p7.png);
}


/* 插入導覽列 */
.nav {
  position: fixed;
  top: 50%;
  right: 0px;
  z-index: 2;
}
li {
  width: 10px;
  height: 10px;
  margin: 10px;
  background-color: white;
  border-radius: 5px;
  box-shadow: 1px 1px 1px rgba(0,0,0,0,5) inset, -1px -1px 1px rgba(0,0,0,0,5) inset;
  list-style-type: none;
}
</code></pre>

<pre><code class="javascript showcase.js">$(document).ready(function() {

  var num_li = $("li").length
  n = 1
  moving = 0
  for(i = 0; i &lt;= num_li; ++i){
    $("html,body").stop()
    $(".nav li:eq("+i+")").click({id:i}, function(e){
      $(".nav li").css("background-color", "white")
      page=e.data.id+1
      $("html,body").animate({"scrollTop":$(".p"+page).offset().top})
      $(this).css("background-color", "#46dd46")
      n = e.data.id+1
    })
  }

  $(window).scroll(function() {
    if($(window).scrollTop() &gt;= $(".p1").offset().top
      &amp;&amp; $(window).scrollTop() &lt; $(".p2").offset().top) {
      $(".nav li").css("background-color", "white")
      $(".nav li:eq(0)").css("background-color", "#46dd46")
    } else if($(window).scrollTop() &gt;= $(".p2").offset().top
      &amp;&amp; $(window).scrollTop() &lt; $(".p3").offset().top) {
      $(".nav li").css("background-color", "white")
      $(".nav li:eq(1)").css("background-color", "#46dd46")
    } else if($(window).scrollTop() &gt;= $(".p3").offset().top
      &amp;&amp; $(window).scrollTop() &lt; $(".p4").offset().top) {
      $(".nav li").css("background-color", "white")
      $(".nav li:eq(2)").css("background-color", "#46dd46")
    } else if($(window).scrollTop() &gt;= $(".p4").offset().top
      &amp;&amp; $(window).scrollTop() &lt; $(".p5").offset().top) {
      $(".nav li").css("background-color", "white")
      $(".nav li:eq(3)").css("background-color", "#46dd46")
    } else if($(window).scrollTop() &gt;= $(".p5").offset().top
      &amp;&amp; $(window).scrollTop() &lt; $(".p6").offset().top) {
      $(".nav li").css("background-color", "white")
      $(".nav li:eq(4)").css("background-color", "#46dd46")
    } else if($(window).scrollTop() &gt;= $(".p6").offset().top
      &amp;&amp; $(window).scrollTop() &lt; $(".p7").offset().top) {
      $(".nav li").css("background-color", "white")
      $(".nav li:eq(5)").css("background-color", "#46dd46")
    } else if($(window).scrollTop() &gt;= $(".p7").offset().top) {
      $(".nav li").css("background-color", "white")
      $(".nav li:eq(6)").css("background-color", "#46dd46")
    }
  })

  $(window).mousewheel(function(e) {
    // $("html,body").stop()
    if(moving == 0) {
      moving = 1
      if(e.deltaY &lt; 0) {
        if(n &lt; num_li) {
          ++n
        }
      } else {
        if(n &gt; 1) {
          --n
        }
      }
      $("html,body").animate({"scrollTop":$(".p"+n).offset().top},800 , function(){moving = 0})
    }
    console.log(moving + " " + e.deltaY + " " + n)

  })

   // 一進入網頁時，將導覽列垂直置中
  center()

   // 縮放網頁時，將導覽列垂直置中
  $(window).resize(function() {
    center()
  })

   // 計算導覽列置中的位置
  function center() {
    pos=$(window).height()/2-$(".nav").height()/2
    $(".nav").css("top", pos)
  }
})
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[【100sites #007】Pong，使用P5.js建構的復古遊戲]]></title>
    <link href="https://easonchang.com/2016/03/19/100sites-007-pong/"/>
    <updated>2016-03-19T17:55:00+08:00</updated>
    <id>https://easonchang.com/2016/03/19/100sites-007-pong</id>
    <content type="html"><![CDATA[<p><img src="https://i.imgur.com/wznoZbr.jpg" alt="螢幕快照 2016-03-20 上午1.23.09.png" /></p>

<h1>Pong，使用P5.js建構的復古遊戲</h1>

<p><a href="http://kamigami55.github.io/100sites/007_Pong/">點我遊玩</a></p>

<p><a href="https://github.com/Kamigami55/100sites/tree/gh-pages/007_Pong">我想看看程式碼</a></p>

<blockquote><p>一句話摘要：使用P5.js這個JavaScript繪圖框架，重建Pong這個復古遊戲，並重新開動100sites專案</p></blockquote>

<!-- more -->


<p>因為一直很忙加上懶惰加上拖延，已經快一個月沒有持續我的100sites專案了，然現在我終於忙完了，是時候該重拾行囊，繼續走完這段成為專業全端工程師的修行之路了！</p>

<p>這次的#007成品是Pong，一個很經典遊戲，左右兩位玩家操縱著各自的棒棒將球反彈給對方，漏球最多的一方輸。</p>

<p>前些日子在SITCON年有講者分享<a href="http://p5js.org">P5.js</a>這個框架，他算是我在#006 Snack裡面使用的<a href="http://processingjs.org">Processing.js</a>的兄弟，Processing.js使用Processing語言，但P5.js使用JavaScript來達到相同的功能，對於現在JS大熱門的趨勢來看，P5.js也是一個很值得學起來的框架之一呀！</p>

<p>以下附上本次的程式碼：</p>

<pre><code class="html index.html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Pong!&lt;/title&gt;
  &lt;script src="http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.23/p5.js"&gt;&lt;/script&gt;
  &lt;script src="pong.js"&gt;&lt;/script&gt;
  &lt;style&gt; body{padding:0; margin:0; overflow:hidden;} &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<pre><code class="javascript pong.js">var BAR_MOVE_SPEED = 15;
var BALL_SIZE = 20;
var BALL_SPEED = 10;

var MAP_WIDTH = 800;
var MAP_HEIGHT = 500;

var BAR_WIDTH = 10;
var BAR_HEIGHT = 120;

var p1_y;
var p2_y;
var p1_score;
var p2_score;

var ball_x;
var ball_y;
var ball_velocity_x;
var ball_velocity_y;

var gamePaused = false;
var gameStarted = false;

function setup() {
  MAP_WIDTH = windowWidth;
  MAP_HEIGHT = windowHeight;
  createCanvas(MAP_WIDTH, MAP_HEIGHT);

  ellipseMode(CENTER);
  rectMode(CENTER);

  p1_y = MAP_HEIGHT/2;
  p2_y = MAP_HEIGHT/2;
  p1_score = 0;
  p2_score = 0;
  ball_x = MAP_WIDTH/2;
  ball_y = MAP_HEIGHT/2;
  ball_velocity_x = BALL_SPEED;
  ball_velocity_y = BALL_SPEED;
}

function draw() {

  if(!gamePaused &amp;&amp; gameStarted) {
    pleyerControl();
    ballMove();
    ballCollide();
    checkBallOutside();
  }
  displayGame();
  displayGUI();

}


function keyPressed() {
  if(keyCode === ENTER) {
    if(!gameStarted) {
      gameStarted = true;
    } else {
      gamePaused = !gamePaused;
    }
  }
}


function pleyerControl() {
  if(keyIsDown(87) || keyIsDown(119)) { // W
    if(p1_y-BAR_HEIGHT/2 &gt; 0) {
      p1_y -= BAR_MOVE_SPEED;
    }
  } else if (keyIsDown(83) || keyIsDown(115)) { // S
    if(p1_y+BAR_HEIGHT/2 &lt; MAP_HEIGHT) {
      p1_y += BAR_MOVE_SPEED;
    }
  }

  if(keyIsDown(UP_ARROW)) { // UP
    if(p2_y-BAR_HEIGHT/2 &gt; 0) {
      p2_y -= BAR_MOVE_SPEED;
    }
  } else if (keyIsDown(DOWN_ARROW)) { // DOWN
    if(p2_y+BAR_HEIGHT/2 &lt; MAP_HEIGHT) {
      p2_y += BAR_MOVE_SPEED;
    }
  }
}


function ballMove() {
  ball_x += ball_velocity_x;
  ball_y += ball_velocity_y;
}


function ballCollide() {
  if(ball_y+BALL_SIZE/2 &gt; MAP_HEIGHT || ball_y-BALL_SIZE/2 &lt; 0) { // collide with upper and lower walls
    ball_velocity_y = -ball_velocity_y;
  }

  if(ball_x &lt;= 30+BAR_WIDTH/2 // collide with player1
    &amp;&amp; ball_x &gt;= 30-BAR_WIDTH/2
    &amp;&amp; ball_y &gt;= p1_y-BAR_HEIGHT/2 
    &amp;&amp; ball_y &lt;= p1_y+BAR_HEIGHT/2) { 
      ball_velocity_x = -ball_velocity_x;
       // slightly change ball y speed according to the position ball hit on the bar
      ball_velocity_y += (ball_y-p1_y)*10/(BAR_HEIGHT/2);
      if(ball_velocity_y &gt; BALL_SPEED) // strict the ball speed not exceed max speed
        ball_velocity_y = BALL_SPEED;
      else if(ball_velocity_y &lt; -BALL_SPEED)
        ball_velocity_y = -BALL_SPEED;
  }

  if(ball_x &gt;= MAP_WIDTH-30-BAR_WIDTH/2 // collide with player2
    &amp;&amp; ball_x &lt;= MAP_WIDTH-30+BAR_WIDTH/2
    &amp;&amp; ball_y &gt;= p2_y-BAR_HEIGHT/2 
    &amp;&amp; ball_y &lt;= p2_y+BAR_HEIGHT/2) { 
      ball_velocity_x = -ball_velocity_x;
       // slightly change ball y speed according to the position ball hit on the bar
      ball_velocity_y += (ball_y-p2_y)*10/(BAR_HEIGHT/2);
      if(ball_velocity_y &gt; BALL_SPEED) // strict the ball speed not exceed max speed
        ball_velocity_y = BALL_SPEED;
      else if(ball_velocity_y &lt; -BALL_SPEED)
        ball_velocity_y = -BALL_SPEED;
  }
}


function checkBallOutside() {
  if(ball_x &gt; MAP_WIDTH) {
    ball_x = MAP_WIDTH/2;
    ball_y = MAP_HEIGHT/2;
    ++p1_score;
  } else if(ball_x &lt; 0) {
    ball_x = MAP_WIDTH/2;
    ball_y = MAP_HEIGHT/2;
    ++p2_score;
  }
}


function displayGame() {
  background(0);
  fill(255); // white
  rect(30, p1_y, BAR_WIDTH, BAR_HEIGHT); // player1 bar
  rect(MAP_WIDTH-30, p2_y, BAR_WIDTH, BAR_HEIGHT); // player2 bar
  fill(0,255,255);
  ellipse(ball_x, ball_y, BALL_SIZE, BALL_SIZE); // ball
}


function displayGUI() {

  if(gamePaused) {
    textSize(100);
    fill(255);
    textAlign(CENTER);
    text("PAUSED", MAP_WIDTH/2, MAP_HEIGHT/2);
  }
  if(!gameStarted) {
    textAlign(CENTER);
    textSize(100);
    fill(0, 255, 255);
    text("Pong!", MAP_WIDTH/2, 150);
    fill(255);
    textSize(80);
    text("Press ENTER to Start", MAP_WIDTH/2, MAP_HEIGHT/2);
    textSize(40);
    text("Left player: W, S to move\nRight player: UP, DOWN to move\nPress ENTER to pause", MAP_WIDTH/2, MAP_HEIGHT/2+150); 
  }
  textSize(30);
  textAlign(LEFT);
  text(p1_score, 30, 30);
  textAlign(RIGHT);
  text(p2_score, MAP_WIDTH-30, 30);
}
</code></pre>
]]></content>
  </entry>
  
</feed>
